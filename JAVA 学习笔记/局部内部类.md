---
title: 局部内部类
header-includes:
 - \usepackage{fvextra}
 - \DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
output:
  pdf_document:
    latex_engine: xelatex
    toc: true
    template: C:/Huaxv/Huaxv-Tool/markdown-preview=enhanced/template.tex
    highlight: tango
    path: C:/Users/huaxv/Desktop/局部内部类.pdf
---

# 局部内部类

顾名思义，就是在局部定义的内部类

简单示例：

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.util.*;

public class Main {
    public static void main(String[] args) {
        // 在函数内部定义一个局部内部类
        class Run {
            BufferedReader cin;
            PrintWriter cout;
            {
                cin = new BufferedReader(new InputStreamReader(System.in));
                cout = new PrintWriter(new OutputStreamWriter(System.out));
            }
            void solve() {
                for (int i = 1; i <= 9; i ++) {
                    for (int j = 1; j <= i; j ++) {
                        cout.printf("%d*%d=%-3d", j, i, i * j);
                    }
                    cout.println();
                }
                cout.close();
            }
        }
        // 创建一个内部局部类的对象
        var run = new Run();
        run.solve();
    }
}
```

---

## 局部内部类只能使用事实最终变量

事实最终变量：指那些加了 `final` 修饰或者没有加 `final` 修饰，但是在使用中没有改变值的变量，一经赋值就不再改变值的那种变量

```java
import java.util.*;
import java.io.*;

public class Main {
    public static void main(String[] args) {
        double pi;
        class A {
            {
                System.out.println(pi);
            }
        }
        pi = 3.14;
        var t = new A();
    }
}
```
